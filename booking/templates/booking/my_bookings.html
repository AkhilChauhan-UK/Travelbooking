{% extends "booking/base.html" %}
{% block title %}My Bookings{% endblock %}
{% block content %}
<h2>My Bookings</h2>
<table class="table table-bordered table-hover">
  <thead>
    <tr>
      <th>ID</th>
      <th>Travel</th>
      <th>Seats</th>
      <th>Total Price</th>
      <th>Status</th>
      <th>Booking Date</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for b in bookings %}
    <tr>
      <td>{{ b.booking_id }}</td>
      <td>{{ b.travel_option.travel_type }} ({{ b.travel_option.source }} â†’ {{ b.travel_option.destination }})</td>
      <td>{{ b.number_of_seats }}</td>
      <td>{{ b.total_price }}</td>
      <td>
        {% if b.status == "Confirmed" %}
          <span class="badge bg-success">{{ b.status }}</span>
        {% else %}
          <span class="badge bg-danger">{{ b.status }}</span>
        {% endif %}
      </td>
      <td>{{ b.booking_date }}</td>
      <td>
        {% if b.status == "Confirmed" %}
          <a href="{% url 'cancel_booking' b.pk %}" class="btn btn-danger btn-sm">Cancel</a>
        {% endif %}
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="7" class="text-center">No bookings found.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
